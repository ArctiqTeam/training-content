---
header:
  author: Paul Durivage
  title: "Chapter 4, Dynamic Inventory"
  description: ""

slides:

  -
    - nested:
      - 
        - h1: Dynamic Inventories

      -
        - h3: What is Dynamic Inventory?
        - ul:
            - Executable script
            - Queries a service that holds data about servers
            - Returns the data to Ansible (as JSON)
        - class_notes: |
            Dynamic inventory is a script that queries a service, like a cloud
            provider API or a management application like Spacewalk.  This data
            is formatted in an Ansible-specific JSON data structure and is used in 
            lieu of hardcoded, static inventory files.

      -
        - h3: Why Dynamic Inventory?
        - ul:
            - Time
            - Accuracy
        - class_notes: |
            Ideally, the source of data for our dynamic inventory scripts is 100%
            correct, and is automatically updated as infrastructure changes.  This 
            is especially useful in environments where machines are coming on and offline
            all the time, like a cloud or virtual environment.

      -
        - h3: Manual Invocation
        - code: |
            
            $ ./docker.py --list
            
        - class_notes: |
            Manual invocation of a dynamic inventory script is fairly straight forward.
            Dynamic inventory scripts must be executable, so calling them explictly will
            invoke the script and return JSON as output.
        
      -
        - h3: Results
        - image: "https://raw.githubusercontent.com/Linuturk/ansible-sprint/master/advanced/chap4shot1.png"
        - class_notes: |
            The output of this command is returned as JSON, in an Ansible-specific structure.
            This image shows the invocation of the Docker inventory script. The script queries
            a Docker host and requests information about containers it is running. SSH host, 
            port information plus additional host variables are returned by the script which can
            later be used in plays.
      